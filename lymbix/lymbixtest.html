<html>
<head>
<script type="text/javascript" src="jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="jquery.lymbix.js"></script>

<script type="text/javascript">
/*
blue -> red?

positive:
enjoyment_elation
affection_friendliness
amusement_excitement
contentment_gratitude

Neutral - white?

negative:
fear_uneasiness
sadness_grief
humiliation_shame
anger_loathing
*/
  

function lymbixit(phrase) {


}

function evalColor(score) {
//calculate appropriate rgb values on red-blue gradient
var r, g, b;
r = 11.45*(10+score)+0;
g = 7.15*(10+score) + 6;
b = 7.85*(10+score) + 34;
return [Math.ceil(r), Math.ceil(g), Math.ceil(b)];
}

function domEmotion(phrase) {
var lymbix = $.lymbix("e731075e67424ea761d9ed92db007d26f5d88d9c"); 
lymbix.tonalizeDetailed(phrase, function (object) { 
$("#phrase").html(object['article']);
$("#text").html(object['dominant_emotion'].replace("_"," & "));
var rgb = evalColor(object['article_sentiment']['score']);
console.log("hi");
$("#colors").css('color', "rgb("+rgb[0]+", "+rgb[1]+", "+rgb[2]+")");
console.log(object['article_sentiment']['score']);
console.log(rgb[2]);
});
}

</script>
</head>

<body onload="domEmotion('I can\'t even believe you would do this.')">
Phrase: <span id="phrase"></span>
<br/>
<br/>
Dom Emotion: <span id="text"></span>
<br/>
<br/>
Color Values: <span id="colors">COLOR!</span>

</body>

</html>
